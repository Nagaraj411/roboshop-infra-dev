# ðŸ” Security Group Rules Matrix
* ðŸ§± Component	ðŸ”¢ Ports	      ðŸ“¥ Source (Allowed From)
      ðŸ”‘ Bastion	22 (SSH)	0.0.0.0/0 (Public)
      ðŸ”‘ VPN	22, 443, 943, 1194	0.0.0.0/0 (Public)
      ðŸ—„ MongoDB	22, 27017	VPN, Bastion, Catalogue, User
      ðŸ§  Redis	22, 6379	VPN, Bastion, User, Cart
      ðŸ›¢ MySQL	22, 3306	VPN, Bastion, Shipping
      ðŸ“¦ RabbitMQ	22, 5672	VPN, Bastion, Payment
      ðŸ“¦ Catalogue	8080	Backend ALB
      22	VPN, Bastion
      ðŸ‘¥ User	8080	Backend ALB
      22	VPN, Bastion
      ðŸ›’ Cart	8080	Backend ALB
      22	VPN, Bastion
      ðŸšš Shipping	8080	Backend ALB
      22	VPN, Bastion
      ðŸ’³ Payment	8080	Backend ALB
      22	VPN, Bastion
      ðŸŒ Backend ALB	80	VPN, Bastion, Frontend, Cart, Shipping, Payment
      ðŸŒ Frontend ALB	80, 443	0.0.0.0/0 (Public)

## âœ… Notes

### ðŸ”¢ Standard Service Ports

      | ðŸ’  **Service**        | ðŸ”Œ **Port**   |
      |----------------------------------------|
      | ðŸ” SSH                | `22`          |
      | ðŸ“š MongoDB            | `27017`       |
      | âš¡ Redis              | `5679`        |
      | ðŸ—„ï¸ MySQL              | `3306`        |
      | ðŸ“¨ RabbitMQ           | `5672`        |
      | ðŸ§© App Services       | `8080`        |


### ðŸ“˜ Implementation Guidelines

      - ðŸ§± All rules are implemented using `aws_security_group_rule`.
      - ðŸ” Inter-service communication is restricted via `source_security_group_id`.
      - ðŸš« No public access (`0.0.0.0/0`) is allowed **unless explicitly required** (e.g., for ALBs).
      - ðŸ›¡ï¸ Security Groups follow **least privilege** principle to minimize attack surface.
      - ðŸ§© Each microservice has its **own isolated security group** for better control.
      - ðŸ”„ Rules are **modular** and can be reused across environments.


This is 10-sg is the child folder
main parent is terraform-aws-security group

copy git link  paste in 10-sg folder as a source

ðŸ” Flow with Inputs and Outputs
   * VPC
    |
    |---> ðŸ›¡ï¸ Security Group (SG)
    |         ðŸ“¥ Input: vpc_id
    |         ðŸ“¤ Output: sg_id
    |
    |---> ðŸ’» EC2 Instance
              ðŸ“¥ Input: sg_id



# ðŸ” Catalogue SG Rules (Simplified)

      ðŸ“œ Backend_ALB  ---> catalogue : 8080   # App traffic
      ðŸ“œ VPN          ---> catalogue : 8080   # Internal access

      ðŸ“œ Bastion      ---> catalogue : 22     # SSH access
      ðŸ“œ VPN          ---> catalogue : 22     # SSH access

      ðŸ“œ catalogue    ---> MongoDB   : 27017  # DB connection